---
import type { Category } from '../../types/category';

interface Props {
  category: Category;
}

const { category } = Astro.props;
---

<article class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow">
  <a href={`/category/${category.slug}`} class="block">
    <div class="relative aspect-video">
      <img 
        src={`/images/categories/${category.slug}.jpg`}
        alt={category.name}
        class="w-full h-full object-cover"
        loading="lazy"
      />
    </div>
    <div class="p-6">
      <h2 class="text-2xl font-bold mb-3">{category.name}</h2>
      {category.subcategories.length > 0 && (
        <div class="space-y-2">
          <h3 class="text-lg font-semibold text-gray-600">תת קטגוריות:</h3>
          <ul class="text-gray-500 space-y-1">
            {category.subcategories.map(sub => (
              <li>
                <a 
                  href={`/category/${category.slug}/${sub.slug}`}
                  class="hover:text-primary-600 transition-colors"
                >
                  {sub.name}
                </a>
              </li>
            ))}
          </ul>
        </div>
      )}
    </div>
  </a>
</article>